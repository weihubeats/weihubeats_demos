## 延时消息

jdk自带三种延时消息类`Timer`、`DelayQueue`、`ScheduledThreadPoolExecutor`

先说说这三类的优缺点吧

### Timer

#### 优点
- 简单易用，适合简单的定时任务

#### 缺点
- 单线程执行，一个任务的延迟会影响其他任务
- 对系统时间敏感，如果系统时间被调整，可能导致任务执行时间错误
- 没有错误处理机制，一个任务的异常可能导致整个Timer停止工作

### DelayQueue

#### 优点
- 支持任务的动态添加和删除
- 可以与线程池结合使用，实现并发执行

#### 缺点
- 需要自己实现任务调度逻辑
- 基于优先队列实现，添加和删除时间复杂度为O(log n)，相比时间轮效率会更低
- 没有内置的周期性任务支持


### ScheduledThreadPoolExecutor

#### 优点
- 支持多线程执行，可以并行处理多个任务
- 提供了丰富的调度方式，包括固定延迟、固定频率等
- 可以处理任务异常，不会因为单个任务失败而影响整体调度
- 可以动态地添加、删除任务


#### 缺点
- 对于大量短期延时任务，性能不如时间轮
- 内存占用相对较高